import{a as A,r as s,j as t}from"./index-b1ca906c.js";import{F as y,a as L}from"./Footer-ecb1abcb.js";/* empty css            */const _=()=>{var m,u;const a=A(),[e,j]=s.useState(null),[n,N]=s.useState(""),[c,r]=s.useState(null),[b,i]=s.useState(!0),d="Gd1w443imJwfp92qJ75xoAyVvsGh9YGY";return s.useEffect(()=>{if(console.log("Location state:",a.state),!a.state||!a.state.url){console.log("No URL found in state."),r("Nessun URL dell'articolo fornito.");return}(async()=>{var h,p,g,f;i(!0),r(null);try{console.log("Fetching article data...");const l=await L.get("https://api.nytimes.com/svc/search/v2/articlesearch.json",{params:{fq:`url:"${a.state.url}"`,"api-key":d}});console.log("API Response:",l.data);const o=(p=(h=l.data)==null?void 0:h.response)==null?void 0:p.docs;if(o&&o.length>0){const x=o[0],v=((f=(g=x.multimedia)==null?void 0:g.default)==null?void 0:f.url)||"";j(x),N(v)}else console.log("No articles found in the response."),r("Articolo non trovato.")}catch(l){console.error("Error fetching article:",l),r("Errore nel caricamento dell'articolo.")}finally{i(!1)}})()},[a.state,d]),b?t.jsx("p",{children:"Caricamento..."}):c?t.jsx("p",{children:c}):(console.log("Article data:",e),t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"article-detail",children:[n&&t.jsx("img",{src:n,alt:"Article Image",className:"article-detail-image"}),((m=e==null?void 0:e.headline)==null?void 0:m.main)&&t.jsx("div",{className:"article-title",children:t.jsx("h1",{children:e.headline.main})}),(e==null?void 0:e.pub_date)&&t.jsx("div",{className:"article-pub-date",children:t.jsx("span",{children:new Date(e.pub_date).toLocaleDateString()})}),((u=e==null?void 0:e.byline)==null?void 0:u.original)&&t.jsx("div",{className:"article-author",children:t.jsx("span",{children:e.byline.original})}),(e==null?void 0:e.abstract)&&t.jsx("div",{className:"lead-paragraph",children:t.jsx("p",{children:e.abstract})}),(e==null?void 0:e.web_url)&&t.jsx("div",{className:"article-link",children:t.jsx("a",{href:e.web_url,target:"_blank",rel:"noopener noreferrer",className:"read-full-article",children:"Leggi l'articolo completo"})})]}),t.jsx(y,{className:"footer"})]}))};export{_ as default};

import{j as n,L,R as m,r as p,A as S,u as A}from"./index-b1ca906c.js";import{F,a as D}from"./Footer-ecb1abcb.js";/* empty css            */const B=({articles:e})=>!e||e.length===0?n.jsx("p",{children:"No articles found."}):n.jsx("div",{className:"article-list",children:n.jsx("ul",{children:e.map((t,r)=>{var a;return n.jsxs("li",{className:"article-item",children:[n.jsx(L,{to:"/article",state:{url:t.url},className:"article-link-button",children:n.jsxs("div",{className:"article-content",children:[t.multimedia&&t.multimedia.length>0&&n.jsx("img",{src:((a=t.multimedia[0])==null?void 0:a.url)||"",alt:t.title,className:"article-image"}),n.jsx("h3",{className:"article-title",children:t.title||"Untitled"})]})}),t.abstract&&n.jsx("p",{className:"article-summary",children:t.abstract})]},t.url||r)})})});var _={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E=m.createContext&&m.createContext(_),R=["attr","size","title"];function T(e,t){if(e==null)return{};var r=$(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function $(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y.apply(this,arguments)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(a){G(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function G(e,t,r){return t=V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=I(e,"string");return typeof t=="symbol"?t:t+""}function I(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k(e){return e&&e.map((t,r)=>m.createElement(t.tag,w({key:r},t.attr),k(t.child)))}function j(e){return t=>m.createElement(J,y({attr:w({},e.attr)},t),k(e.child))}function J(e){var t=r=>{var{attr:a,size:s,title:i}=e,h=T(e,R),d=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),m.createElement("svg",y({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,h,{className:l,style:w(w({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&m.createElement("title",null,i),e.children)};return E!==void 0?m.createElement(E.Consumer,null,r=>t(r)):t(_)}function U(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function Y(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function q(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function K(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"},child:[]}]})(e)}function W(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}const Q=()=>{const e="Gd1w443imJwfp92qJ75xoAyVvsGh9YGY",[t,r]=p.useState(null),[a,s]=p.useState({}),[i,h]=p.useState(!1),[d,l]=p.useState(null),O=[{id:"most-popular",label:"Most Popular",icon:n.jsx(W,{}),endpoint:"mostpopular/v2/viewed/7.json"},{id:"books",label:"Books",icon:n.jsx(U,{}),endpoint:"books/v3/lists/current/hardcover-fiction.json"},{id:"movies",label:"Movies",icon:n.jsx(K,{}),endpoint:'search/v2/articlesearch.json?fq=section_name:"Movies" AND type_of_material:"Review"&sort=newest&page=0'}],M=async(c,u)=>{var x,f,N,z,P;if(t===c){r(null);return}h(!0),r(c),l(null);try{const g=await fetch(`https://api.nytimes.com/svc/${u}${u.includes("?")?"&":"?"}api-key=${e}`);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const v=await g.json();let b;switch(c){case"most-popular":b=((x=v.results)==null?void 0:x.map(o=>({title:o.title||"Title not available",url:o.url})))||[];break;case"books":b=((N=(f=v.results)==null?void 0:f.books)==null?void 0:N.map(o=>({title:o.title||"Title not available",url:`https://www.nytimes.com/books/best-sellers/${v.results.list_name_encoded}/`})))||[];break;case"movies":b=((P=(z=v.response)==null?void 0:z.docs)==null?void 0:P.map(o=>{var C;return{title:((C=o.headline)==null?void 0:C.main)||"Title not available",url:o.web_url||"#"}}))||[];break;default:b=[]}s(o=>({...o,[c]:b.slice(0,5)}))}catch(g){console.error("Error loading data:",g),l("Failed to load content. Please try again later."),s(v=>({...v,[c]:[]}))}finally{h(!1)}};return n.jsxs("div",{className:"related-content",children:[n.jsx("h2",{children:"More articles"}),n.jsx("ul",{className:"menu-list",children:O.map(c=>n.jsxs("li",{className:["Most Popular","Books","Movies"].includes(c.label)?"no-bullet":t===c.id?"active":"",children:[n.jsxs("button",{className:`menu-item ${t===c.id?"active":""}`,onClick:()=>M(c.id,c.endpoint),"aria-expanded":t===c.id,children:[c.icon," ",c.label,t===c.id?n.jsx(q,{}):n.jsx(Y,{})]}),t===c.id&&n.jsx("div",{className:"dropdown-content",children:i?n.jsx("p",{className:"loading",children:"Loading..."}):d?n.jsx("p",{className:"error",children:d}):a[c.id]&&a[c.id].length>0?n.jsx("ul",{className:"dropdown-menu",children:a[c.id].map((u,x)=>{var f;return n.jsx("li",{className:"dropdown-item",children:n.jsx("a",{href:u.url||u.link,target:"_blank",rel:"noopener noreferrer",children:((f=u.headline)==null?void 0:f.main)||u.title||u.display_title||"Title not available"})},x)})}):n.jsx("p",{children:"No content available"})})]},c.id))})]})},te=()=>{const{articles:e,setArticles:t,setLoading:r,setError:a}=p.useContext(S),s="Gd1w443imJwfp92qJ75xoAyVvsGh9YGY",i=A(),h=async()=>{r(!0);try{const l=await D.get(`https://api.nytimes.com/svc/topstories/v2/home.json?api-key=${s}`);t(l.data.results.slice(0,10)),r(!1)}catch{a("Error fetching articles"),r(!1)}};p.useEffect(()=>{h()},[t,r,a]);const d=l=>{const O=encodeURIComponent(l);i(`/article/${O}`)};return n.jsxs(n.Fragment,{children:[n.jsxs("section",{className:"news-layout",children:[n.jsx(B,{articles:e,onFetchArticleContent:d}),n.jsx(Q,{})]}),n.jsx(F,{className:"footer"})]})};export{te as default};
